<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <title>Cultural Data Collection</title>
    
    <!-- external general utilities -->
    <script src="shared/js/jquery-1.11.1.min.js"></script>
    <script src="shared/full-projects/jquery-ui/jquery-ui.min.js"></script>
    <script src="shared/js/underscore-min.js"></script>

    <!-- experiment logic -->
    <script src="shared/js/exp-V2.js"></script>
    <script src="shared/js/stream-V2.js"></script>

    <!-- utilities to submit data to proliferate -->
    <script src="https://proliferate.alps.science/static/js/proliferate.js"></script>

    <!-- Bootstrap CSS -->
    <link href="https://s3.amazonaws.com/mturk-public/bs30/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- general utilities -->
    <script src="shared/js/browserCheck.js"></script>
    <script src="shared/js/utils.js"></script>
    <link href="shared/full-projects/jquery-ui/jquery-ui.min.css" rel="stylesheet" type="text/css">
    <link href="shared/css/cocolab-style.css" rel="stylesheet" type="text/css">

    <!-- experiment file -->
    <script src="js/experiment.js"></script>
    <script src="js/stimuli.js"></script>

    <style>
        body {
            font-family: Verdana, Geneva, sans-serif;
            color: #333333;
            font-size: 14pt;
        }
        
        .panel-body {
            text-align: left;
        }

        .err {
            display: none;
        }
    </style>
</head>

<body onload="init()">
    <noscript>This task requires JavaScript.</noscript>

    <!-- initial slide -->
    <div class="slide" id="i0">
        <link href="https://s3.amazonaws.com/mturk-public/bs30/css/bootstrap.min.css" rel="stylesheet"/>
        <section class="container" id="SET1" style="padding: 10px; font-family: Verdana, Geneva, sans-serif; color:#333333; font-size:14pt;">
            <div class="row col-xs-12 col-md-12">
                <div class="col-xs-12 col-md-12">
                    <div class="panel panel-primary" style="border-color: #800080">
                        <div class="panel-heading" style="background-image: none;background-color:#800080;border-color: #800080">
                            <strong>Cultural Data Collection</strong>
                        </div>
                        <div class="panel-body">
                            <p>
                                We have developed a Cultural Knowledge Expert, an advanced AI (artificial intelligence) assistant designed to understand diverse cultures. The AI already knows basic aspects of your culture, such as common foods, clothing, drinks, festivals, and rituals. Your goal is to challenge this AI's understanding by engaging it with deeper topics like values, traditions, and social practices.
                            </p>
                            <div style="text-align: center; margin-top: 30px;">
                                <button id="start_button" class="btn btn-lg btn-primary" style="background-color: #800080; border-color: #800080;">
                                    Start Experiment
                                </button>
                            </div>
                            <hr>
                            <p class="legal" style="font-size: 0.8em; color: #666;">
                                <strong>LEGAL INFORMATION</strong>:<br><br>
                                I consent to take part in the study. I agree to the anonymous use of the data in research presentations, publications, and online interactive sites to illustrate the findings. I agree that the collected data could be used in related follow-up studies. I agree to the use of the data in a not-for-profit anonymous corpus for research purposes which others will have access to.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- main task slide -->
    <div class="slide" id="main">
        <section class="container" id="SET1" style="padding: 10px;">
            <div class="row">
                <div class="col-xs-12 col-md-12">
                    <!-- Task Instructions Panel -->
                    <div class="panel panel-primary" style="border-color: #ba1438">
                        <div class="panel-heading" style="background-image: none;background-color:#ba1438;border-color: #ba1438">
                            <strong> Task </strong></div>
                            <div class="panel-body">
                                <p>You will be given a general concept that reflects cultural values, aesthetics, religion, or other aspects unique to your culture. This concept will have specific meanings within your culture. Your task has four parts:
                                </p>
                                <p style="margin-left: 20px;">
                                    <ol>
                                        <li><b>Choose an Image:</b><br>
                                            <ul>
                                                <li>Find an image from the internet that clearly shows how this concept is expressed in your culture.</li>
                                                <li>The image should be clear and relevant to the concept.</li>
                                            </ul>
                                        </li>
                                        <li><b>Describe your thought process for choosing the image:</b><br>
                                            <ul>
                                                <li>Briefly explain the thought process behind choosing the cultural concept presented in the image and how it connects to your values.</li>
                                                <li>You might consider aspects like personal family traditions, festivals, or shared community practices that inspired the image and concept choice.</li>
                                            </ul>
                                        </li>
                                        <li><b>Create a Complex Question:</b><br>
                                            <ul>
                                                <li>Write one question that refers to the image and is about cultural values seen in the image. The question must not be answerable without looking at the image.</li>
                                                <li>The question should require deep cultural understanding - not basic facts, or simple surface-level questions that only identify objects or basic attributes.</li>
                                                <li><i><b>Tips:</b></i> Use phrases such as "shown in this image" or "visible here" or "in this scene" to ensure the question refers to the image.</li>
                                            </ul>
                                        </li>
                                        <li><b>Write a short answer to your question:</b><br>
                                            <ul>
                                                <li>The answer (1-2 sentences) should explain the cultural value that you want to test.</li>
                                            </ul>
                                        </li>
                                    </ol>
                                </p>
                            </div>
                    </div>

                    <!-- Country-specific content -->
                    <div id="country-specific-content"></div>

                    <!-- Response Collection Form -->
                    <div class="panel panel-primary" style="border-color: #800080">
                        <div class="panel-heading" style="background-image: none;background-color:#800080;border-color: #800080">
                            <strong>Submit your Response</strong>
                        </div>
                        
                        <div class="panel-body" style="padding: 20px;">
                            <div class="form-group" style="margin-bottom: 30px;">
                                <h4 style="color: #800080; margin-bottom: 15px;">Concept:</h4>
                                <input type="text" class="form-control" id="concept" readonly 
                                       style="background-color: #f8f9fa;">
                            </div>

                            <div class="form-group" style="margin-bottom: 30px;">
                                <h4 style="color: #800080; margin-bottom: 15px;">Image URL:</h4>
                                <div style="background-color: #fff3cd; padding: 10px; border-radius: 5px; margin-bottom: 10px;">
                                    <p style="font-size: 11pt; margin-bottom: 3px;"><b> How to get the correct image URL:</b></p>
                                    <p style="font-size: 11pt; margin-left: 20px; line-height: 1.3;">
                                        1. Find your image in Google Images<br>
                                        2. Click on the image. It should open in a pane on the right<br>
                                        3. Now, right-click on this image and select "Open image in new tab"<br>
                                        4. Copy the URL from the new tab's address bar
                                    </p>
                                    
                                    <p style="color: #dc3545; font-size: 11pt; margin-top: 10px; line-height: 1.3;"><b>⚠️ Important:</b></p>
                                    <p style="color: #dc3545; font-size: 11pt; margin-left: 20px; line-height: 1.3;">
                                        1. Directly right-clicking and copying 
                                            the URL will not work and will give a 
                                            URL that does not start with "https://" 
                                            or "http://". <br>
                                        2. Please paste the URL in the box 
                                            below and click "Preview Image".
                                            Proceed only if the image is displayed 
                                            correctly
                                    </p>
                                </div>
                                
                                <div style="display: flex; gap: 10px;">
                                    <input type="url" class="form-control" id="imageUrl"
                                           placeholder="Paste the URL of your image here" required>
                                    <button type="button" class="btn btn-primary" id="previewButton" 
                                            style="background-color: #800080; border-color: #800080;">
                                        Preview Image
                                    </button>
                                </div>
                                <small class="form-text text-muted">Please provide a URL to a clear image that represents the concept.</small>
                                
                                <div id="imagePreview" style="margin-top: 10px; text-align: center; display: none;">
                                    <img id="preview" style="max-width: 60%; height: auto; margin: 10px 0;">
                                </div>
                            </div>

                            <div class="form-group" style="margin-bottom: 30px;">
                                <h4 style="color: #800080; margin-bottom: 15px;">Describe your thought process for choosing the image:</h4>
                                <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px;">
                                    <textarea class="form-control" id="thoughtProcess" rows="3"
                                              placeholder="Briefly explain how this image connects to your values and cultural experiences"
                                              required></textarea>
                                </div>
                            </div>

                            <div class="form-group" style="margin-bottom: 30px;">
                                <h4 style="color: #800080; margin-bottom: 15px;">Question:</h4>
                                <div style="background-color: #f8d7da; padding: 15px; border-radius: 5px; margin-bottom: 15px;">
                                    <p style="color: #842029; font-weight: bold; text-align: center; margin-bottom: 0;">
                                        <span style="font-size: 11pt;">⚠️ Questions MUST refer to the image! Work will be REJECTED otherwise!</span>
                                    </p>
                                </div>
                                <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px;">
                                    <textarea class="form-control" id="question" rows="3"
                                              placeholder="Enter your question about the image"
                                              required></textarea>
                                </div>
                            </div>

                            <div class="form-group" style="margin-bottom: 30px;">
                                <h4 style="color: #800080; margin-bottom: 15px;">Your Answer:</h4>
                                <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px;">
                                    <textarea class="form-control" id="answer" rows="2"
                                              placeholder="Share what you believe would be an acceptable answer to your question and clearly convey the cultural value you want to test"
                                              required></textarea>
                                </div>
                            </div>

                            <div style="text-align: center; margin-top: 30px; margin-bottom: 20px;">
                                <button class="btn btn-lg btn-primary continueButton" 
                                        onclick="_s.button()"
                                        style="background-color: #800080; 
                                               border-color: #800080; 
                                               padding: 15px 40px; 
                                               font-size: 18px;">
                                    Continue
                                </button>
                                <div class="err" style="color: #dc3545; margin-top: 10px;">
                                    Please fill in all required fields before continuing.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- subject information slide -->
    <div class="slide" id="subj_info">
        <section class="container" id="SET1" style="padding: 10px;">
            <div class="row" style="display: flex; justify-content: center;">
                <div class="col-xs-12 col-md-12">
                    <div class="panel panel-primary" style="border-color: #800080">
                        <div class="panel-heading" style="background-image: none;background-color:#800080;border-color: #800080">
                            <strong>Additional Information</strong>
                        </div>
                        <div class="panel-body">
                            <!-- <p class="text-muted">
                                Answering these questions is optional, but will help us understand your answers better.
                            </p> -->

                            <div class="form-group" style="margin-bottom: 30px;">
                                <h4 style="color: #800080; margin-bottom: 15px;">Gender <span style="color: red;">*</span>:</h4>
                                <select class="form-control" id="gender" style="max-width: 300px;">
                                    <option value="">Please select...</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                    <option value="non-binary">Non-binary</option>
                                </select>
                            </div>

                            <div class="form-group" style="margin-bottom: 30px;">
                                <h4 style="color: #800080; margin-bottom: 15px;">Age Range <span style="color: red;">*</span>:</h4>
                                <select class="form-control" id="age" style="max-width: 300px;">
                                    <option value="">Please select...</option>
                                    <option value="18-27">18-27 years</option>
                                    <option value="28-43">28-43 years</option>
                                    <option value="44-60">44-60 years</option>
                                    <option value="60+">60+ years</option>
                                </select>
                            </div>

                            <div class="form-group" style="margin-bottom: 30px;">
                                <h4 style="color: #800080; margin-bottom: 15px;">Additional Comments:</h4>
                                <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px;">
                                    <textarea class="form-control" id="comments" rows="3" 
                                              placeholder="Please share your thoughts here..."></textarea>
                                </div>
                            </div>

                            <div style="text-align: center; margin-top: 30px;">
                                <button onclick="_s.submit()" 
                                        class="btn btn-lg btn-primary" 
                                        style="background-color: #800080; border-color: #800080;">
                                    Submit
                                </button>
                                <div class="err" style="color: #dc3545; margin-top: 10px; display: none;">
                                    Please fill in all required fields before submitting.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

</body>
</html>
